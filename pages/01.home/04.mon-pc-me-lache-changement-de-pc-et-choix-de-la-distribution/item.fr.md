---
title: 'Mon PC me lâche, changement de PC et choix de la distribution.'
visible: false
---

Je suis utilisateur de Debian/Ubuntu et openSUSE, surtout Debian et openSUSE mais tout de même assez pour dire que l'Ubuntu a une place spéciale pour moi. Debian et openSUSE, j'y crois, je sais, je n'ai aucuns doutes sur eux,  c'est fiable et solide, on peut compter dessus. Ubuntu je mettrai mes réserves pour certains points mais grosso-merdo ça roule plutôt correcte au vu de ceux qui l'utilisent: souvent des michus apprentis geeks ou des personnes voulant quitter le monde de Windows demandant à *l'informaticien* de famille de leur coller un truc...

Debian a cette réputation de fiabilité, c'est vrai, j'y crois et je n'en doute pas un instant, que ce soit les updates (mises-à-jour simples), les upgrades (sauts de versions), j'ai tout vu et je sais que ce n'est pas mentir de dire que sa réputation n'est pas une coïncidence. la openSUSE n'a pas la même aura, du moins en France, qui reste un pays très --trop?-- américanisé et germanophobe --qui peut blâmer pour ça?--; pourtant elle n'a plus grand chose à prouver, mais quoiqu'elle fasse, ça n'ira jamais aussi bien que la grande sainte Redhat.

Il y a un temps, pas si loin, on avait la française Mandriva, qui fut tuée par l'incompétence et surtout l'avarice de ses propriétaires --l'amateurisme aussi--. Une vraie alternative à Fedora et autres Redhat, mais, car il y a toujours un mais, les héritières de celle-ci ne sont guère des alternatives, tout au mieux des copies bâclées et ratées. 

En fait, je mens à peine en disant "les héritières", car non, je parle seulement de Mageia qui est la seule veritable héritière de Mandriva dans le lot mais qui reste un gros gâchis.

Je rentre pour de bon dans ce billet qui va, je le pense, être long et ennuyeux. J'ai dû changer de PC et j'avais préparé un billet dessus ayant pour titre réfléchi de "Mon PC me lâche, changement de PC et de distribution" qui aurait dû être publié depuis le 12 novembre. Je vais le fusionner avec celui-ci, gagne de temps et ~~d'argent~~ billet plus consistant, surtout mon état ne me permet pas de faire quoique ce soit bien longtemps.

Changement de PC veut dire pour moi qu'on va tester ce qui se fait ailleurs que chez Debian/openSUSE pour voir et comparer avec du matos frais, mais avant de parler de ça on va mettre un peu le pied dans le plat et situer l'action.

Il me fallait faire vite et j'ai fais vite, le PC, mon principal, celui que je trimballe depuis les années 2008/2009 --cadeau que je me suis fait avant de ne pas me faire reconduire par la société où j'étais en CDD-- m'a lâché, c'est con mais il a fait son temps et surtout j'avais déjà opérer sur lui des réparations. Je n'aime pas changer et dépenser ma tune pour rien, alors comme avec moi c'est soit on le fait tant que je suis bien énervé et dans l'urgence, soit on attend et dans ce cas j'arrive à trouver un moyen de coller une rustine, ma femme m'a embraqué et m'a dit que ça sera mon cadeau de noël.

Je dois bien avouer que j'en avais vraiment marre de démarrer 10 fois --sans mentir--, attendre près d'une heure pour faire chauffer le PC pour que ce dernier ne freeze plus --bien sûr quand celui-ci plantait, fallait l'éteindre directement par la prise électrique pas d'autre solution--, attendre le lancement de KDE, le lancement des applications lourdingues --pourquoi tout de suite ceux de Mozilla?--...

J'ai redécouvert un truc qui s'appel Windows 10, un truc qui n'est pas fait pour moi, que j'ai eu du mal à comprendre d'où vient la soi-disant complexité de Linux face à ce produit. je n'ai rien trouvé de simple, rien de familier, encore moins un semblant homogène... Je suis resté un certain temps, un temps certain, ça m'a suffit et j'ai fini par installer différentes distributions linux.

Alors je ne parlerai pas de toutes les distributions installées mais je vais cibler un peu sur des connues. Dans la liste des distributions que j'ai tenté, on peut trouver Manjaro, Linux-mint, Ubuntu, Debian, openSUSE, Mageia, MX Linux, Fedora, Kubuntu, Sabayon, ... Pour ne citer que celles-ci. Ça fait une belle liste, qui fait aussi pas mal d'ISO et de support à graver ou de clé USB.

Je vais passer les tentatives de Mint, Kubuntu, MX-Linux car c'est exactement les mêmes soucis que Debian/Ubuntu, donc je parlerai que de ces deux là. Pour ce qui est de Sabayon, j'ai pas pu faire l’installation, 3 fois des soucis avec l'installateur ça a tendance à me refroidir.

Pour Manjaro, je n'ai pas grand chose à dire, j'ai pas aimé, je suis franc, je n'aime pas la base, je n'aime pas les rollings, je n'aime pas la tournure que ça prends (implantation des Snaps/Flatpack et de FreeOffice entre autre), je n'aime pas utiliser des recettes venant de AUR --vu l'amateurisme de certaines recettes-- pour combler des manques dans les dépôts,... Bref, c'est pas mon truc. Dans l'ensemble et si je fais abstraction du fait que je sois pro Debian --openSUSE aussi-- pour être objectif, je n'ai pas aimé mais **ça fonctionne**, après sur la durée et au vu de la base qui tôt ou tard demandera une action de notre part formulée sur le site de Arch et non indiquée par le gestionnaire de paquets Pacman lui-même, je ne dirai rien. 

L'installateur --un truc d'une pale copie de celui d'Ubuntu-- demande de choisir une suite bureautique, j'ai choisi FreeOffice pour tester ne le connaissant pas le moindre du monde, mais ça m'a rebuté qu'on me demande la clé pour activer le programme. Le site regroupant les trois versions --pardon, les options suivant payements--, m'ont ramené 15 ans auparavant et ça fait mal. L’intérêt d'avoir cette merde de suite bureautique dans une distribution, modulo le fait que Manjaro doit obtenir un peu de tune au passage? Ubuntu aurait fait un truc comme ça, certains auraient crié aux loups... A quand Google Chrome installé par défaut? A quand l'installation du lecteur de PDF d'Adobe par défaut? 

Ça m'a semblé un peu étrange de ne pas avoir AUR activé par défaut mais c'est pas plus mal et ça me rassure vu le peu de respect et de confiance que j'ai envers celui-ci. Ce qui m'a semblé vraiment digne de l'amateurisme, c'est d'avoir deux programmes pour gérer l'ensemble des différents formats de paquets, déjà que je ne suis pas fan des formats dits universels, mais là on a droit à un programme pour gérer les paquets venant ~~d'Archlinux et d'AUR~~ du projet Manjaro et un autre pour tout ce qui est Flatpack et Snap. Un peu bizarre de devoir jouer avec les deux programmes pour faire les mises-à-jour, je dis ça je ne dis rien.

Voila, c'est pas pour moi, je ne vais pas prolonger le supplice, à la limite je suis encore mieux sous Windows. Ça donne l'impression que les développeurs de cette distribution, ont pour but de se faire payer leurs passes temps et cherchent à tout prix de rentabiliser la chose.

Fedora est l'exemple type de l'inverse de ce que j'aime dans les distribution, à part son coté fixed du moins, c'est une distribution RPM, utilisant depuis toujours un gestionnaire de paquets lent comme la maman de Dumbo (que ce soit YUM ou DNF du reste car ça change que peu la donne...), qui nous utilise comme des rats pour tester/mettre au point ce qui va se faire dans leur distribution professionnel, la nommer Redhat. Un truc que j'aime vraiment pas chez Fedora, c'est l'omniprésence de Redhat qui donne une sensation de ne pas être sur un truc communautaire où les utilisateurs/contributeurs ont beaucoup d'importance et de choix dans les décisions. C'est l'ambiance qui se dégage, au contraire de ce qui se fait du coté du caméléon vert.

L'installateur me rebute, c'est celui que Sabayon utilise (Anaconda 2), j'ai énormément de mal à finir l'installation sans rencontrer de bugs, comme celui du partitionnement (comme pour Sabayon) ou bien de l'installation qui bloque sur je ne sais quoi... Si on fait abstraction de cette partie, tout marche en sortie de boite, que ce soit le wifi, le bluetooth, la résolution de mon écran via ma carte graphique Nvidia,..., tout est bon.

Ça se complique ~~beaucoup~~ un peu dès qu'on veut écouter un fichier audio, regarder un film, installer le pilote proprio de sa carte Nvidia... Bref, dès que l'on veut utiliser son système pour autre chose que taper une lettre, on est dans la mouise. J'ai encore eu des merdes en ajoutant les dépôts "fusion", je sais pas trop pourquoi mais ça merde, DNF me dit qu'il trouve pas le paquet demandé, alors que je peux lister les paquets. Je vais pas accuser la distribution pour ça, je vais mettre ça sur le dos de mon incompétence d'utiliser le lourdingue DNF et aussi de ne pas savoir lire une documentation qui est pourtant bien faite. Plus sérieusement, je ne pourrai jamais être sur Fedora, je n'aime pas du tout DNF que je trouve mal foutu, peu clair dans ses sorties, lent comme pouvait l'être YUM... Je ne suis pas fan non plus de GNOME-logiciel que je trouve trop simplifiant, cachant tout un tas de choses qui pourraient être utile à l'utilisateur averti que je suis. Non, j'aime les trucs comme Yast (module installer/supprimer des logiciels) ou bien encore Synaptic, voir Pamac qui va dans le bon sens. Si on fait le tour de ce qui est présent chez fedora pour gérer graphiquement les paquets, il n'y a pas grand chose, si en fait il y a bien un truc que je voudrais ne pas avoir connu, c'est le DNFdragora.

DNFdragora, j'en ai déjà parlé, j'ai pu dire tout le bien que j'en pense (rire dans la salle), [Fred](http://frederic.bezies.free.fr/blog/?p=18254) en parle avec brio de ~~cette merde~~ ce superbe programme venu des ~~idées embrumées par certains produits illicites~~ des développeurs de Mageia ayant des pensées sincères ~~de faire chier et pousser aux suicides~~ d'aider leurs utilisateurs, montrant de ce fait leurs ~~incapacités~~ capacités à garder vivant ~~la daube~~ l'héritage de Mandriva. Je pense clairement que Pamac, le module de Yast ou encore l’ancêtre Synaptic font bien mieux le boulot.

Par moment, je pouvais installer des paquets venant de "rpm-fusion", et d'autres pourtant listés comme installables ne pouvaient pas l'être, allez comprendre.

Je passe au cas, bien que je ne devais pas en parler, de MX-Linux, je commence par dire que je ne comprends pas l'enthousiasme et l'intérêt ou la curiosité pour cette distribution. L'installateur est déjà dépassé au vu de ce que font certains, mais en plus l'ergonomie de XFCE est vraiment à revoir, qu'elle idiotie de mettre la barre latérale. Comme je l'ai dis, je passe le cas car comme pour Mint et autres debian-likes, je ne me souviens plus si j'avais laissé le secure-boot en place ou non, mais je reviendrai sur cette histoire de secure-boot avec debian et Ubuntu.

En faite je balance comme ça les distributions, je ne peux même pas dire dans quelle ordre j'ai fait ça, ce qui est sûr c'est que j'ai commencé avec Debian, qui a merdé, puis Ubuntu et enfin openSUSE, donc c'est un billet vraiment fouillis. 

Donc Debian, ma tendre, celle de toujours, bah en faite non, ce ne fut pas de tout repos. En vrai c'est pas vraiment de sa faute, il y avait deux nouvelles choses à appréhender que je ne connaissais que trop peu, le remplaçant du *bios* ayant pour nom *EFI* et surtout le *SECURE-BOOT*! J'ai eu un premier semblant de contact qui c'était superbement bien passé, c'était avec une Ubuntu 17.10 et une Debian9 mais j'avais rusé en désactivant le fameux *SECURE-BOOT*. Là, il ne fut pas question de ruser puisque la version 10 de Debian est enfin compatible avec et j'ai procédé à une installation des plus classiques, comme si de rien n'était, confiant en cet installateur que je connais depuis 2007. Pour commencer j'ai eu pas mal de soucis avec les partitions, l’installateur me les disant à chaque fois, je corrigeais sur le tas, mais j'ai eu une erreur bloquante qui m'a fait échouer l'installation juste après le choix des paquets. Première fois que je me retrouve con devant une Debian, j'ai abandonné, me disant que j'allais voir comment sa fille Ubuntu faisait pour l'installation.

J'ai donc commencé l'installation de la Ubuntu 18.04... Et je suis tombé très vite sur ça:

![installation1](https://download.tuxfamily.org/passionlinux/captures/ubuntu-Screenshot%20from%202019-11-12%2023-50-46.png)
![installation2](https://download.tuxfamily.org/passionlinux/captures/ubuntu-Screenshot%20from%202019-11-12%2023-50-54.png)
![installation3](https://download.tuxfamily.org/passionlinux/captures/ubuntu-Screenshot%20from%202019-11-12%2023-50-57.png)

J'ai eu un doute un moment, je pensais que l'on me demandait un code pour crypter mes partitions, en fait non, c'est juste que Ubuntu ne gèrent pas aussi bien que ça le *SECURE-BOOT*, certainement un reste de filiation avec Debian, ça s'explique, du reste je le ferai plus bas quand je reviendrai sur l'installation de Debian. En gros, on me demande un mot de passe pour le matériel ayant des firmwares un peu con (pourquoi NVIDIA?), ce que je fais, et après de très longues minutes interminables --sûrement du fait que l'installateur devait faire une clé pour le *SECURE-BOOT* avec le mot de passe donné--, sans blaguer pas loin de 5 ou 10 minutes comme ça, puis enfin ça commence à s'installer. A la fin et comme on me l'annonçait pendant l’installateur, j'ai attendu comme un con que Ubuntu "m'assiste", mais rien, je n'ai rien eu. Au reboot et comme je l'attendais, mon ordinateur m'a posé une colle, enfin une colle, pour moi car une clé "MOK" ne me parle pas, à moins que ce soit *MDK* qui me parle déjà un peu plus étant un jeu où on était une sorte de [Spawn](https://fr.wikipedia.org/wiki/Spawn_(comics))...

![MDK](https://upload.wikimedia.org/wikipedia/en/9/97/Mdk1cover.jpg)

Donc je n'ai pas su quoi faire, j'ai alors eu l'idée de taper le passe que j'avais donné lors de l’installation, mais rien. C'est à ce moment que je me dis qu'on est encore loin d'avoir un OS linux pour tous! Pas grave je boot en désactivant le *SECURE-BOOT* et je me retrouve sur le bureau Gnome d'Ubuntu. Ça fonctionne, Wifi, carte graphique avec pilote proprios et Bleutooth.

Ubuntu est vraiment pas mal, mais je n'aime pas certains choix, pour commencer lâcher Unity pour GNOME et insérer des paquets universels.

Je passe à openSUSE. Pas grand chose à dire, c'est top, ça fonctionne même avec le *SECURE-BOOT* activé, le partitionnement se fait les doigts dans le nez, les pilotes proprios de ma carte NVIDIA s'installent juste avec l'ajout du dépôt de ceux-ci et un `zypper inr`, ou sinon en passant par Yast. Que ce soit le Wifi ou bien le Bluetooth, rien à faire, c'est fonctionnel dès l'installation. Vraiment la openSUSE est top et si un jour on me dit que c'est une grave connerie de ne pas activer le *SECURE-BOOT* et bien je me tournerai sur celle-ci. Par contre toujours le soucis de devoir compter sur un dépôt tiers pour le multimédia et certains logiciels P2P, comme Fedora du reste. dépôt qui se rajoute en un clic comme on peut le voir ci-après:

![multimedia](https://download.tuxfamily.org/passionlinux/captures/opensuse-multimedia_20191219_163714.png)

Étant quelqu'un de très têtue, n'aimant pas qu'on me résiste et n'aimant pas non plus rester sur un échec, je n'ai pas pu continuer sans retenter une installation de Debian avec le *SECURE-BOOT* activé, dommage que je n'ai pas fait de captures de toutes les conneries de la première tentative. Pour le coup, le partitionnement a bien voulu se faire pour cette fois, en même temps Ubuntu et openSUSE ayant déjà fait le taf, je verrai mal pourquoi la Debian aurait encore eu des soucis. Je doute pas que c'est moi qui merdais, je sais bien que dans la plupart des cas le soucis se trouve entre la chaise et le clavier, mais tout de même, on me demande de partitionner, je le fais, EFI ou pas, c'est quand même pas dur.

Cette fois ce fut la bonne, la Debian s'est installée comme il le faut. J'ai été fort surpris d'avoir une résolution correcte dès le premier lancement et sans rien ajouter, d'habitude avec mes cartes ATI/AMD je dois au moins installer les firmwares-nonfree et ceux de AMD. Là pour le coup c'est bien la première fois que j'ai quelque chose de lisible et en bonne résolution, merci les pilotes libres. Du reste, il semblerai bien que Nvidia participerait un peu plus à son pilote libre et que --mais je ne trouve plus où j'ai lu ça mais on en devine un peu [ici](https://www.forbes.com/sites/jasonevangelho/2019/12/06/nvidia-is-prepping-an-unexpected-surprise-for-linux-users-in-2020/#6d70cde36390)--pour 2020 il y aurait enfin un pilote libre de qualité pour ses cartes. 

Je rajoute toujours les compléments *contrib* et *nonfree* dans mon source.list:

    deb http://deb.debian.org/debian/ buster main contrib non-free
    deb-src http://deb.debian.org/debian/ buster main contrib non-free
    
    deb http://security.debian.org/debian-security buster/updates main contrib non-free
    deb-src http://security.debian.org/debian-security buster/updates main contrib non-free
    
    # buster-updates, previously known as 'volatile'
    deb http://deb.debian.org/debian/ buster-updates main contrib non-free
    deb-src http://deb.debian.org/debian/ buster-updates main contrib non-free

j’ajoute aussi le *multi-architecture* 32 et 64 bits:

    dpkg --add-architecture i386 && apt-get update

Et enfin j'installe ma sélection de paquets figurant dans une liste préalablement récupéré depuis mon ancienne machine:

    apt install dselect
    dselect update
    dpkg --set-selections  < myselection.dpkg
    apt-get -u dselect-upgrade

ou

    dselect install

A partir de ce moment j'ai exactement ce que j'avais sur l'ancien PC en terme de logiciels.
Sauf que voila, on est sous Debian donc on n'a ni le wifi ni le Bluetooth de fonctionnel. J'ai dû chercher un peu puis j'ai installer ce qu'il me faut, j'ai peut être eu la main lourde en firmwares mais je m'en fou:

    apt install firmware-realtek firmware-linux-nonfree firmware-linux bluetooth firmware-iwlwifi pulseaudio-module-bluetooth bluez-firmware

De là ce fut bon et j'ai tout eu de fonctionnel. On peut déjà confirmer que Debian n'est pas une distribution qui facilite la vie. On est loin des Manjaro, Ubuntu voir même openSUSE --qui pourtant se complexifie avec le multimédia et ses dépôts tiers--. J'ai pas testé avec l'ISO nonfree, ça m'aurait peut être fait tout le taf au moins pour la partie wifi.

Puis j'ai eu une idée de génie, pourquoi ne pas installer les pilotes proprios de ma carte Nvidia... Et c'est encore là que ça se complique, non pas l’installation proprement parlé des pilotes Nvidia, qui est simpliste mais encore autre chose en rapport avec le *SECURE-BOOT*.

L'installation n'est pas compliquée, on va déterminer la carte graphique et le pilote nécessaire avec l'outil *nvidia-detect*, donc on l'installe l'utilitaire avec `APT`: 

    apt-get install nvidia-detect

Puis on le lance pour connaître la dénomination de votre carte graphique et si elle est compatible avec Debian Buster : 

    $ nvidia-detect
    Detected NVIDIA GPUs:
    01:00.0 VGA compatible controller [0300]: NVIDIA Corporation GP107 [GeForce GTX 1050 Ti] [10de:1c82] (rev a1)
    
    Checking card:  NVIDIA Corporation GP107 [GeForce GTX 1050 Ti] (rev a1)
    Your card is supported by the default drivers and legacy driver series 390.
    It is recommended to install the
    nvidia-driver
    package.
    
C'est donc bien le dernier pilote Nvidia qui va avec ma carte, je l'installe toujours avec `APT`:

    apt-get install nvidia-driver 
    
Sur une configuration par défaut de Debian, cette commande installe tous les paquets nécessaires. Si un fichier a été crée pour ne pas installer les paquets recommandés, on ajoute dans la commande les deux paquets suivants nvidia-settings et nvidia-persistenced.

Depuis Debian Stretch, il suffit de redémarrer le PC pour blacklister le pilote nouveau et utiliser le pilote propriétaire.

Comme toujours avec Debian, sa documentation officielle est excellente et bien garnie, je préfère pour ma part vous diriger sur celle de [debian-facile](https://debian-facile.org/wiki) bien plus simple et directe: https://debian-facile.org/doc:materiel:cartes-graphique:nvidia:accueil

Je redémarre et c'est là que la blague intervient, là où je me dis que Debian est vraiment loin d'être pour tout le monde, là où je me dis que j'ouvre enfin les yeux sur ma distribution que je trouvais si simple et que j'avais du mal à comprendre comment on pouvait la trouver compliquée. En fait, tant que l'on reste sur de l'utilisation libre, ça va, mais quand on doit utiliser du proprio c'est déjà moins simple. Je n'ai plus d'interface graphique, je reste sur un *TTY* et la dernière ligne du boot me dit que le démon *nvidia-persistenced.service* échoue lors de son lancement. La seule solution pour avoir de nouveau une interface est de purger notre système de tout ce qui est Nvidia:

    aptitude purge '~i nvidia'

Je pense à tout un tas de chose, je vais sur le forum de [debian-facile](https://debian-facile.org/forum.php) pour poster une [demande d'aide](https://debian-facile.org/viewtopic.php?id=25742) et des bonnes âmes me donnent leurs aides, dont Debian Alain et melissa6969, merci à eux.

La solution m'est venue d'elle même, je me suis dis en quoi mon ordinateur est différent en ce jour par rapport à ceux que j'ai connues ailleurs et la réponse est ce putain de *SECURE-BOOT*... Je l'ai désactivé et ça marche:

    lspci -nnk | grep -iE "vga|3d|display" -A3
    00:1c.0 PCI bridge [0604]: Intel Corporation Cannon Lake PCH PCI Express Root Port [8086:a33d] (rev f0)
        Kernel driver in use: pcieport
    00:1f.0 ISA bridge [0601]: Intel Corporation Device [8086:a308] (rev 10)
        Subsystem: Acer Incorporated [ALI] Device [1025:123c]
    --
    01:00.0 VGA compatible controller [0300]: NVIDIA Corporation GP107 [GeForce GTX 1050 Ti] [10de:1c82] (rev a1)
        Subsystem: PC Partner Limited / Sapphire Technology GP107 [GeForce GTX 1050 Ti] [174b:3454]
        Kernel driver in use: nvidia
        Kernel modules: nvidia
        
En fait, ce qui se passe c'est que le pilote Nvidia propriétaire n'est pas signé pour ce fameux *SECURE-BOOT*, c'est un **bug** touchant toutes les debian-likes --d'où le comment et pourquoi que par la suite j'ai désactivé le *SECURE-BOOT* pour les tests--, qui ne sera pas prioritaire pour Debian car ce paquet n'est pas dans la section principale mais dans *nonfree*.

Après toutes ces péripéties, je me retrouve sur la distribution qui est mienne habituellement.
